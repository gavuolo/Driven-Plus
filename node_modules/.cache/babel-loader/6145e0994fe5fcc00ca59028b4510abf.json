{"ast":null,"code":"var _jsxFileName = \"/home/gabriela/Documentos/Projetos/driven-plus/src/components/pages/TelaPlanos/ComprarPlano/Form.js\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Modal from 'react-modal';\nimport \"./modal.css\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Form(_ref) {\n  _s();\n  let {\n    abrirModal,\n    info,\n    modalIsOpen,\n    setIsOpen\n  } = _ref;\n  Modal.setAppElement(\"body\");\n  const {\n    token,\n    user,\n    setUser\n  } = useContext(AuthContext);\n  const header = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const navigate = useNavigate();\n  function fecharModal() {\n    setIsOpen(false);\n  }\n  function Enviar() {\n    const URL = 'https://mock-api.driven.com.br/api/v4/driven-plus/subscriptions';\n    const post = axios.post(URL, form, header);\n    post.then(ress => {\n      console.log('comprou');\n      console.log(ress.data);\n      const novoUser = {\n        ...user\n      };\n      setUser(ress.data);\n      navigate('/home');\n    });\n    post.catch(err => {\n      console.log('não comprou');\n      console.log(err.response.data.message);\n      console.log(form);\n    });\n  }\n  const [form, setForm] = useState({\n    cardName: \"\",\n    cardNumber: \"\",\n    securityNumber: \"\",\n    expirationDate: \"\"\n  });\n  useEffect(() => {\n    let membershipId = info.id;\n    setForm({\n      ...form,\n      membershipId\n    });\n  }, [info]);\n  function Formulario(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm({\n      ...form,\n      [name]: value\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(InfoCartao, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cardName\",\n        type: \"text\",\n        placeholder: \"Nome impresso no cart\\xE3o\",\n        value: form.cardName,\n        onChange: Formulario,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cardNumber\",\n        type: \"text\",\n        placeholder: \"Digitos do cart\\xE3o\",\n        value: form.cardNumber,\n        onChange: Formulario,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputMenor, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"securityNumber\",\n          type: \"text\",\n          placeholder: \"C\\xF3digo de seguran\\xE7a\",\n          value: form.securityNumber,\n          onChange: Formulario,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"expirationDate\",\n          type: \"text\",\n          placeholder: \"Validade\",\n          value: form.expirationDate,\n          onChange: Formulario,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Assinar, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: abrirModal,\n        children: \"ASSINAR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalIsOpen,\n      onRequestClose: fecharModal,\n      overlayClassName: \"modal-overlay\",\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Tem certeza que deseja assinar o plano Driven Plus (R$ 39,99)?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Escolha, {\n        type: \"submit\",\n        onClick: Enviar,\n        children: \"SIM\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Escolha, {\n        onClick: fecharModal,\n        children: \"N\\xC3O\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Fechar, {\n        onClick: fecharModal,\n        children: \"x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Form, \"RDiR9sGiB9/L2J8T1YBv7HzKPdc=\", false, function () {\n  return [useNavigate];\n});\n_c = Form;\nconst InfoCartao = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin: 0 auto;\n    width: 299px;\n    height: auto;\n    input{\n        border-radius: 8px;\n        width: 299px;\n        height: 52px;\n        background-color: #FFFFFF;\n        margin-bottom: 16px;\n        padding: 5%;\n        cursor: text;\n        color: #7E7E7E;\n        font-weight: 400;\n        font-size: 14px;\n        line-height: 16px;\n    }\n`;\n_c2 = InfoCartao;\nconst InputMenor = styled.div`\n    display: flex;\n    justify-content: space-between;\n    input{\n        width: 49%;\n    }\n`;\n_c3 = InputMenor;\nconst Assinar = styled.div`\n    button{\n        width: 299px;\n        height: 52px;\n        color: #FFFFFF;\n        border: none;\n        background-color: #FF4791;\n        border-radius: 8px;\n        font-weight: 700;\n        cursor: pointer;\n    }\n`;\n_c4 = Assinar;\nconst Fechar = styled.button`\n    text-align: center;\n    font-size: 20px;\n    font-weight: 900;\n    line-height: 0px;\n    width: 28px;\n    height: 25px;\n    background-color: #FFFFFF;\n    border: none;\n    cursor: pointer;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 1;\n    right: 0;\n    margin: 20px;\n    border-radius: 5px;\n`;\n_c5 = Fechar;\nconst Escolha = styled.button`\n    margin: 5%;\n    width: 95px;\n    height: 52px;\n    color: #FFFFFF;\n    border: none;\n    background-color: #FF4791;\n    border-radius: 8px;\n    font-weight: 700;\n    cursor: pointer;\n`;\n_c6 = Escolha;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Form\");\n$RefreshReg$(_c2, \"InfoCartao\");\n$RefreshReg$(_c3, \"InputMenor\");\n$RefreshReg$(_c4, \"Assinar\");\n$RefreshReg$(_c5, \"Fechar\");\n$RefreshReg$(_c6, \"Escolha\");","map":{"version":3,"names":["styled","React","useContext","useEffect","useState","useNavigate","Modal","axios","AuthContext","Form","abrirModal","info","modalIsOpen","setIsOpen","setAppElement","token","user","setUser","header","headers","Authorization","navigate","fecharModal","Enviar","URL","post","form","then","ress","console","log","data","novoUser","catch","err","response","message","setForm","cardName","cardNumber","securityNumber","expirationDate","membershipId","id","Formulario","e","name","value","target","InfoCartao","div","InputMenor","Assinar","Fechar","button","Escolha"],"sources":["/home/gabriela/Documentos/Projetos/driven-plus/src/components/pages/TelaPlanos/ComprarPlano/Form.js"],"sourcesContent":["import styled from \"styled-components\"\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Modal from 'react-modal';\nimport \"./modal.css\"\nimport axios from \"axios\"\nimport { AuthContext } from \"../../contexts/AuthContext\";\n\nexport default function Form({ abrirModal, info, modalIsOpen, setIsOpen }) {\n    Modal.setAppElement(\"body\");\n    const { token, user, setUser } = useContext(AuthContext)\n    const header = { headers: { Authorization: `Bearer ${token}` } }  \n    const navigate = useNavigate()\n    function fecharModal() {\n        setIsOpen(false)\n    }\n\n    function Enviar() {\n        const URL = 'https://mock-api.driven.com.br/api/v4/driven-plus/subscriptions'\n        const post = axios.post(URL, form, header)\n        post.then((ress) => {\n            console.log('comprou')\n            console.log(ress.data)\n            const novoUser = {...user}\n            setUser(ress.data)\n            navigate('/home')\n        })\n        post.catch((err)=>{\n            console.log('não comprou')\n            console.log(err.response.data.message)\n            console.log(form)\n        })\n    }\n\n    const [form, setForm] = useState({\n        cardName: \"\",\n        cardNumber: \"\",\n        securityNumber: \"\",\n        expirationDate: \"\"\n    })\n\n    useEffect(() => {\n        let membershipId = info.id\n        setForm({ ...form, membershipId })\n    },[info])\n    \n    function Formulario(e) {\n        const { name, value } = e.target\n        setForm({ ...form, [name]: value })\n    }\n\n    return (\n        <>\n            <InfoCartao>\n                <input\n                    name=\"cardName\"\n                    type=\"text\"\n                    placeholder=\"Nome impresso no cartão\"\n                    value={form.cardName}\n                    onChange={Formulario}\n                    required\n                />\n                <input\n                    name=\"cardNumber\"\n                    type=\"text\"\n                    placeholder=\"Digitos do cartão\"\n                    value={form.cardNumber}\n                    onChange={Formulario}\n                    required\n                />\n                <InputMenor>\n                    <input\n                        name=\"securityNumber\"\n                        type=\"text\"\n                        placeholder=\"Código de segurança\"\n                        value={form.securityNumber}\n                        onChange={Formulario}\n                        required\n                    />\n                    <input\n                        name=\"expirationDate\"\n                        type=\"text\"\n                        placeholder=\"Validade\"\n                        value={form.expirationDate}\n                        onChange={Formulario}\n                        required\n                    />\n                </InputMenor>\n            </InfoCartao>\n\n            <Assinar>\n                <button onClick={abrirModal}>\n                    ASSINAR\n                </button>\n            </Assinar>\n            <Modal\n                isOpen={modalIsOpen}\n                onRequestClose={fecharModal}\n                overlayClassName=\"modal-overlay\"\n                className=\"modal\"\n            >\n                <p>Tem certeza que deseja assinar o plano Driven Plus (R$ 39,99)?</p>\n                <Escolha type=\"submit\" onClick={Enviar}>SIM</Escolha>\n                <Escolha onClick={fecharModal}>NÃO</Escolha>\n                <Fechar onClick={fecharModal}>x</Fechar>\n               \n        </Modal>\n        </>\n    )\n}\n\nconst InfoCartao = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin: 0 auto;\n    width: 299px;\n    height: auto;\n    input{\n        border-radius: 8px;\n        width: 299px;\n        height: 52px;\n        background-color: #FFFFFF;\n        margin-bottom: 16px;\n        padding: 5%;\n        cursor: text;\n        color: #7E7E7E;\n        font-weight: 400;\n        font-size: 14px;\n        line-height: 16px;\n    }\n`\nconst InputMenor = styled.div`\n    display: flex;\n    justify-content: space-between;\n    input{\n        width: 49%;\n    }\n`\nconst Assinar = styled.div`\n    button{\n        width: 299px;\n        height: 52px;\n        color: #FFFFFF;\n        border: none;\n        background-color: #FF4791;\n        border-radius: 8px;\n        font-weight: 700;\n        cursor: pointer;\n    }\n`\n\n\n\nconst Fechar = styled.button`\n    text-align: center;\n    font-size: 20px;\n    font-weight: 900;\n    line-height: 0px;\n    width: 28px;\n    height: 25px;\n    background-color: #FFFFFF;\n    border: none;\n    cursor: pointer;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 1;\n    right: 0;\n    margin: 20px;\n    border-radius: 5px;\n`\nconst Escolha = styled.button`\n    margin: 5%;\n    width: 95px;\n    height: 52px;\n    color: #FFFFFF;\n    border: none;\n    background-color: #FF4791;\n    border-radius: 8px;\n    font-weight: 700;\n    cursor: pointer;\n`"],"mappings":"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"},"metadata":{},"sourceType":"module"}